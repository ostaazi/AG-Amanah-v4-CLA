# Amanah Parental Control - Environment Variables
# ===================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

# Local artifacts / backups root used by project scripts.
# Examples: D:\Projects\Amanah backups
AMANAH_ARTIFACTS_DIR=D:\Projects\Amanah backups

# Firebase Configuration
# Get these from Firebase Console > Project Settings
VITE_FIREBASE_API_KEY=your_firebase_api_key_here
VITE_FIREBASE_AUTH_DOMAIN=your_project_id.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_project_id.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id

# Firestore local/dev behavior
# Enable emulator when running firebase emulators:start
VITE_USE_FIRESTORE_EMULATOR=false
VITE_FIRESTORE_EMULATOR_HOST=127.0.0.1
VITE_FIRESTORE_EMULATOR_PORT=8080
# Allow mock data writes against live Firestore (disabled by default for safety)
VITE_ALLOW_LIVE_MOCK_MUTATIONS=false
# Auto-purge mock data at app load (disabled by default to avoid permission-noise on production rules)
VITE_AUTO_PURGE_MOCK_DATA=false

# Optional: invitation redirect URL used for co-parent email invites.
# Use a public HTTPS domain in production. Avoid localhost for real email delivery.
# Must be in Firebase Auth > Authorized domains / continue URLs.
VITE_CO_PARENT_INVITE_CONTINUE_URL=https://your-app-domain.com/

# Optional: SMS verification webhook for profile phone verification.
# Your backend endpoint should accept POST JSON: { phone, code, purpose, ttlSeconds }.
# If left empty, the app will try Firebase Phone Auth first.
# Set to 1 to skip Firebase attempt and send directly through webhook/provider.
VITE_PHONE_VERIFICATION_PREFER_GATEWAY=0
# DEV fallback (test code only) is used only when neither webhook nor Firebase Phone Auth is available.
# Example local webhook URL: http://localhost:8787/sms/verification
# Real SMS through Firebase Auth is also supported from the client:
# enable Phone provider in Firebase Console > Authentication > Sign-in method.
# make sure your domain is listed under Authorized domains.
# Optional no-card fallback: Textbelt SMS.
# Set VITE_SMS_TEXTBELT_KEY=textbelt for the shared free key (limited),
# or use your own Textbelt key for higher quotas.
VITE_SMS_VERIFICATION_WEBHOOK_URL=
VITE_SMS_VERIFICATION_WEBHOOK_TOKEN=
VITE_SMS_TEXTBELT_KEY=

# Optional: Email invitation webhook (sends beautiful emails that don't go to Spam)
# When configured, co-parent invitations use this instead of Firebase's built-in emails.
# Example local webhook: http://localhost:8788/email/invite
VITE_EMAIL_INVITATION_WEBHOOK_URL=
VITE_EMAIL_INVITATION_WEBHOOK_TOKEN=

# Email invitation webhook server (used by npm run email:webhook)
# This token must match VITE_EMAIL_INVITATION_WEBHOOK_TOKEN.
EMAIL_WEBHOOK_BEARER_TOKEN=
# Supported providers: resend, sendgrid, brevo, mock
EMAIL_PROVIDER=resend
# Get a free API key from https://resend.com (100 emails/day free)
RESEND_API_KEY=
# Alternative: SendGrid (https://sendgrid.com - 100 emails/day free)
SENDGRID_API_KEY=
# Alternative: Brevo (https://brevo.com - 300 emails/day free)
BREVO_API_KEY=
# Sender address (use your verified domain for best deliverability)
EMAIL_FROM_ADDRESS=Amanah <noreply@amanah-protect.com>
EMAIL_WEBHOOK_PORT=8788
EMAIL_WEBHOOK_CORS_ORIGIN=*

# Local SMS webhook server (used by npm run sms:webhook)
# This token must match VITE_SMS_VERIFICATION_WEBHOOK_TOKEN.
SMS_WEBHOOK_BEARER_TOKEN=
# Supported: textbelt, android_gateway, mock
SMS_PROVIDER=textbelt
# Free Textbelt shared key: textbelt (limited). Replace with your own key for production.
SMS_TEXTBELT_KEY=textbelt
# Android gateway mode (real SMS via your own phone/SIM, no card required)
SMS_ANDROID_GATEWAY_URL=
SMS_ANDROID_GATEWAY_TOKEN=
# Field names expected by your Android gateway endpoint
SMS_ANDROID_GATEWAY_PHONE_FIELD=phone
SMS_ANDROID_GATEWAY_MESSAGE_FIELD=message
# Allow only your frontend origin in production (example: https://app.example.com)
SMS_WEBHOOK_CORS_ORIGIN=*
# Webhook listening port
PORT=8787

# Google Gemini AI Configuration
# Get this from Google AI Studio
VITE_GEMINI_API_KEY=your_gemini_api_key_here

# Application Security
# Generate a random 64-character string for production
# You can use: openssl rand -hex 32
VITE_APP_PEPPER=generate_random_64_char_hex_string_here
