import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import React, { useState } from 'react';
import { ICONS, AdminShieldBadge } from '@/constants';
import { canPerform } from '@/services/rbacService';
const FamilyRolesView = ({ currentUser }) => {
    const [members, setMembers] = useState([
        { id: 'p1', name: 'أحمد (الوالد)', role: 'FAMILY_OWNER', avatar: 'https://i.pravatar.cc/150?u=father' },
        { id: 'm1', name: 'سارة (الوالدة)', role: 'FAMILY_COADMIN', avatar: 'https://i.pravatar.cc/150?u=mother' },
        { id: 'a1', name: 'د. خالد (المستشار)', role: 'FAMILY_AUDITOR', avatar: 'https://i.pravatar.cc/150?u=doc' }
    ]);
    const roles = [
        { id: 'FAMILY_OWNER', label: 'رب الأسرة (Owner)', desc: 'صلاحيات مطلقة: حذف، تصدير، وتغيير الأذونات.', color: 'bg-red-600' },
        { id: 'FAMILY_COADMIN', label: 'مشرف محدود (Co-Admin)', desc: 'تحكم تشغيلي كامل ما عدا الحذف والتصدير.', color: 'bg-indigo-600' },
        { id: 'FAMILY_AUDITOR', label: 'مراقب (Auditor)', desc: 'للاطلاع فقط على التقارير والأدلة دون تدخل.', color: 'bg-emerald-600' },
        { id: 'EMERGENCY_GUARDIAN', label: 'وصي طوارئ', desc: 'صلاحية محدودة جداً تُفعل عند غياب الوالدين.', color: 'bg-amber-600' }
    ];
    return (_jsxs("div", { className: "max-w-5xl mx-auto space-y-10 pb-40 animate-in fade-in", dir: "rtl", children: [_jsxs("div", { className: "text-right space-y-2", children: [_jsx("h2", { className: "text-4xl font-black text-slate-900 tracking-tighter", children: "\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0639\u0627\u0626\u0644\u0629 \u0648\u0627\u0644\u0623\u062F\u0648\u0627\u0631" }), _jsx("p", { className: "text-slate-500 font-bold", children: "\u062A\u062D\u0643\u0645 \u0641\u064A \u0645\u0646 \u064A\u0634\u0627\u0647\u062F \u0627\u0644\u0623\u062F\u0644\u0629 \u0648\u0645\u0646 \u064A\u0645\u0644\u0643 \u0633\u0644\u0637\u0629 \u0627\u0644\u0642\u0641\u0644." })] }), _jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-12 gap-10", children: [_jsxs("div", { className: "lg:col-span-7 space-y-6", children: [_jsx("h3", { className: "text-xl font-black text-slate-800 px-4", children: "\u0627\u0644\u0623\u0639\u0636\u0627\u0621 \u0627\u0644\u062D\u0627\u0644\u064A\u064A\u0646" }), _jsx("div", { className: "space-y-4", children: members.map(member => (_jsxs("div", { className: "bg-white p-8 rounded-[3rem] shadow-lg border border-slate-100 flex items-center justify-between group", children: [_jsxs("div", { className: "flex items-center gap-6", children: [_jsxs("div", { className: "relative", children: [_jsx("img", { src: member.avatar, className: "w-16 h-16 rounded-full object-cover border-4 border-white shadow-xl" }), member.role === 'FAMILY_OWNER' && _jsx("div", { className: "absolute -bottom-2 -left-2 w-8 h-8", children: _jsx(AdminShieldBadge, {}) })] }), _jsxs("div", { children: [_jsx("h4", { className: "font-black text-slate-800 text-lg", children: member.name }), _jsx("span", { className: `text-[9px] font-black px-3 py-1 rounded-full text-white mt-1 inline-block ${roles.find(r => r.id === member.role)?.color || 'bg-slate-400'}`, children: member.role.replace('_', ' ') })] })] }), canPerform(currentUser.role, 'member.update_role') && member.role !== 'FAMILY_OWNER' && (_jsx("button", { className: "p-4 bg-slate-50 text-slate-400 rounded-2xl hover:bg-indigo-50 hover:text-indigo-600 transition-all shadow-sm group-hover:scale-105 active:scale-95", children: _jsx(ICONS.Settings, {}) }))] }, member.id))) })] }), _jsxs("div", { className: "lg:col-span-5 space-y-8", children: [_jsxs("div", { className: "bg-slate-900 p-10 rounded-[3rem] text-white shadow-2xl space-y-6 relative overflow-hidden", children: [_jsx("div", { className: "absolute top-0 right-0 w-32 h-32 bg-indigo-600/20 rounded-full blur-3xl" }), _jsx("h3", { className: "text-2xl font-black relative z-10", children: "\u0645\u0635\u0641\u0648\u0641\u0629 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A" }), _jsx("div", { className: "space-y-6 relative z-10", children: roles.map(role => (_jsxs("div", { className: "space-y-1", children: [_jsx("p", { className: "text-sm font-black text-indigo-300", children: role.label }), _jsx("p", { className: "text-[10px] font-bold text-slate-400 leading-relaxed", children: role.desc })] }, role.id))) })] }), _jsxs("button", { className: "w-full py-6 bg-indigo-600 text-white rounded-[2.5rem] font-black text-xl shadow-xl active:scale-95 transition-all flex items-center justify-center gap-4", children: [_jsx("span", { children: "\u2795" }), "\u062F\u0639\u0648\u0629 \u0639\u0636\u0648 \u062C\u062F\u064A\u062F"] })] })] })] }));
};
export default FamilyRolesView;
